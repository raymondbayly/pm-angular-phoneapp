!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/platform-browser"),require("@angular/material"),require("@angular/forms"),require("ngx-pipes"),require("@angular/common/http"),require("rxjs"),require("rxjs/operators"),require("@angular/core")):"function"==typeof define&&define.amd?define("ng-filters-library",["exports","@angular/platform-browser","@angular/material","@angular/forms","ngx-pipes","@angular/common/http","rxjs","rxjs/operators","@angular/core"],t):t(e["ng-filters-library"]={},e.ng.platformBrowser,e.ng.material,e.ng.forms,e.ngxPipes,e.ng.common.http,e.rxjs,e.rxjs.operators,e.ng.core)}(this,function(e,t,r,n,i,l,s,o,a){"use strict";var c=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[r.MatCheckboxModule,t.BrowserModule,n.FormsModule,i.NgPipesModule],declarations:[],exports:[]}]}],e}();function j(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}var u=function(){function e(){this.loadedLocations=new s.Subject,this.selectAll=new a.EventEmitter,this.deselectAll=new a.EventEmitter,this.checkForIndeterminate=new a.EventEmitter,this.expandUnitsList=new a.EventEmitter,this.collapseUnitsList=new a.EventEmitter,this.selectedUnits=[],this.previousUnits=[]}return e.prototype.checkUnitSelection=function(e){try{for(var t=j(this.selectedUnits),r=t.next();!r.done;r=t.next()){if(e===r.value.key.unitID)return!0}}catch(o){n={error:o}}finally{try{r&&!r.done&&(i=t["return"])&&i.call(t)}finally{if(n)throw n.error}}return!1;var n,i},e.prototype.selectUnit=function(e){this.selectedUnits.indexOf(e)<0&&this.selectedUnits.push(e),this.checkForIndeterminate.emit(e.key.facilityID)},e.prototype.deselectUnit=function(e){var t=this.selectedUnits.indexOf(e);-1!==t&&this.selectedUnits.splice(t,1),this.checkForIndeterminate.emit(e.key.facilityID)},e.prototype.selectAllUnitsFromAFacility=function(e){try{for(var t=j(this.units),r=t.next();!r.done;r=t.next()){var n=r.value;n.key.facilityID===e.facilityID&&this.selectedUnits.indexOf(n)<0&&this.selectedUnits.push(n)}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=t["return"])&&o.call(t)}finally{if(i)throw i.error}}var i,o},e.prototype.deselectAllUnitsFromAFacility=function(e){try{for(var t=j(this.units),r=t.next();!r.done;r=t.next()){var n=r.value;if(n.key.facilityID===e.facilityID){var i=this.selectedUnits.indexOf(n);-1!==i&&this.selectedUnits.splice(i,1)}}}catch(c){o={error:c}}finally{try{r&&!r.done&&(a=t["return"])&&a.call(t)}finally{if(o)throw o.error}}var o,a},e.prototype.isLocationSelectionTheSame=function(){if(this.selectedUnits.length!==this.previousUnits.length)return!1;try{for(var e=j(this.selectedUnits),t=e.next();!t.done;t=e.next()){var r=t.value,n=!1;try{for(var i=j(this.previousUnits),o=i.next();!o.done;o=i.next()){if((u=o.value).key.facilityID===r.key.facilityID&&u.key.unitID===r.key.unitID){n=!0;break}}}catch(m){p={error:m}}finally{try{o&&!o.done&&(v=i["return"])&&v.call(i)}finally{if(p)throw p.error}}if(!n)return!1}}catch(I){d={error:I}}finally{try{t&&!t.done&&(f=e["return"])&&f.call(e)}finally{if(d)throw d.error}}try{for(var a=j(this.previousUnits),c=a.next();!c.done;c=a.next()){r=c.value,n=!1;try{for(var s=j(this.selectedUnits),l=s.next();!l.done;l=s.next()){var u;if((u=l.value).key.facilityID===r.key.facilityID&&u.key.unitID===r.key.unitID){n=!0;break}}}catch(F){y={error:F}}finally{try{l&&!l.done&&(S=s["return"])&&S.call(s)}finally{if(y)throw y.error}}if(!n)return!1}}catch(b){h={error:b}}finally{try{c&&!c.done&&(g=a["return"])&&g.call(a)}finally{if(h)throw h.error}}return!0;var d,f,p,v,h,g,y,S},e.prototype.getUnitCountForFacility=function(e){var t,r,n=0;try{for(var i=j(this.units),o=i.next();!o.done;o=i.next()){o.value.key.facilityID===e&&n++}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype.getLocationsToFilter=function(){var e={facilities:[],units:[]};try{for(var t=j(this.selectedUnits),r=t.next();!r.done;r=t.next()){var n=r.value;e.units.push(n.key.unitID),e.facilities.indexOf(n.key.facilityID)<0&&e.facilities.push(n.key.facilityID)}}catch(f){i={error:f}}finally{try{r&&!r.done&&(o=t["return"])&&o.call(t)}finally{if(i)throw i.error}}var i,o,a,c,s=!1;try{for(var l=j(e.facilities),u=l.next();!u.done;u=l.next()){var d=u.value;if(0<=this.indeterminateFacilities.indexOf(d)){s=!0;break}}}catch(p){a={error:p}}finally{try{u&&!u.done&&(c=l["return"])&&c.call(l)}finally{if(a)throw a.error}}return s||(e.units=["*"]),e},e.prototype.setFacilityIndeterminateState=function(e,t){t?this.indeterminateFacilities.push(e):0<=this.indeterminateFacilities.indexOf(e)&&this.indeterminateFacilities.splice(this.indeterminateFacilities.indexOf(e),1)},e.prototype.clearIndeterminateFacilities=function(){this.indeterminateFacilities=[]},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),d=function O(){},f=function(){function e(){this.filterQueryEndPoint=null}return e.prototype.getFilterQueryEndPoint=function(){return this.filterQueryEndPoint||console.warn("Filter query endpoint is not set!"),this.filterQueryEndPoint},e.prototype.setFilterQueryEndPoint=function(e){this.filterQueryEndPoint=e},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),p=function(){function e(e,t){this.http=e,this.filterQueryConfig=t,this.pollInstance$=s.timer(0,9e5)}return e.prototype.getFilteredVisits=function(e){var t=e();return this.http.get(this.filterQueryConfig.getFilterQueryEndPoint(),{params:this.getQueryParams(t)})},e.prototype.getFilteredVisitsInterval=function(e){var t=this;return this.pollInstance$.pipe(o.switchMap(function(){return t.getFilteredVisits(e)}))},e.prototype.getQueryParams=function(e){if(0===Object.keys(e).length)return null;var t,r,n=new l.HttpParams;for(var i in e)if(e.hasOwnProperty(i))try{for(var o=j(e[i]),a=o.next();!a.done;a=o.next()){var c=a.value;c=c.replace(/,/g,"|"),n=n.append(i,c)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=o["return"])&&r.call(o)}finally{if(t)throw t.error}}return n},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:l.HttpClient},{type:f}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(l.HttpClient),a.inject(f))},token:e,providedIn:"root"}),e}(),v={RIScore:"latestRi",DisplayName:"displayName",MedicalRecordNumber:"medicalRecordNumber",VisitNumber:"visitNumber",HospitalLOS:"hospitalLos",WarningSeverity:"warningSeverity",WarningDuration:"warningDuration"},h=function(){function e(){this.activeSortFunction=null,this._stagedSortFunction=null,this.activeSortName=null,this.stagedSortName=null,this.nonStandardSortFunctionActive=!1,this.nonStandardSortFunction=null,this.choices=[{value:{sortName:v.DisplayName,transformer:function(e){return e.displayName}},description:"Patient Name",tooltip:"Alphabetical sort by patient last name"},{value:{sortName:v.MedicalRecordNumber,transformer:function(e){return e.patient.medicalRecordNumber}},description:"MRN",tooltip:"Sort graphs by the medical record number of the patient"},{value:{sortName:v.VisitNumber,transformer:function(e){return e.vnm}},description:"Visit Number",tooltip:"Sort graphs by the visit number of the patient"},{value:{sortName:v.RIScore,transformer:function(e){return e.latestRi}},description:"RI Score",tooltip:"Sort by Rothman Index score value"},{value:{sortName:v.HospitalLOS,transformer:function(e){return e.admitDate}},description:"Hospital LOS",tooltip:"Sort by hospital length of stay"},{value:{sortName:v.WarningSeverity,transformer:function(e){if(e.activeWarning){var t=e.activeWarning.category;return"V"===t?4:"H"===t?3:"M"===t?2:1}return null}},description:"Warning Severity",tooltip:"Sort by the severity of patient warnings"},{value:{sortName:v.WarningDuration,transformer:function(e){return e.activeWarning?e.activeWarning.createdDate:null}},description:"Warning Created Time",tooltip:"Sort by warning created time"}],this.stageSortFunction(this.choices[0].value.transformer,1,this.choices[0].value.sortName),this.activeSortFunction=this.getStagedSortFunction(),this.activeSortName=this.stagedSortName}return e.prototype.getStagedSortFunction=function(){return this._stagedSortFunction},e.prototype.clearSort=function(){this.activeSortName=null,this.activeSortFunction=null,this.stagedSortName=null,this._stagedSortFunction=null},e.prototype.stageSortFunction=function(e,t,r){this.stagedSortName=r,this._stagedSortFunction=this.createSortFunction(e,t)},e.prototype.createSortFunction=function(o,a){return function(e,t){var r=o(e),n=o(t),i=0;return r&&n?(n<r&&(i=1),r<n&&(i=-1)):r&&!n?i=1:n&&!r&&(i=-1),i*a}},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),g=function(){function e(){this.dependency=null}return e.prototype.generateLanes=function(){return{groupName:"Warning Category",lanes:[{laneFunction:function(e){return null!=e.activeWarning&&"V"===e.activeWarning.category},laneTitle:"Very High Warning"},{laneFunction:function(e){return null!=e.activeWarning&&"H"===e.activeWarning.category},laneTitle:"High Warning"},{laneFunction:function(e){return null!=e.activeWarning&&"M"===e.activeWarning.category},laneTitle:"Medium Warning"},{laneFunction:function(e){return null==e.activeWarning},laneTitle:"No Warning"}]}},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),y=function(){function e(){this.losIncrement=1,this.losLaneMax=5,this.dependency=null}return e.prototype.generateLanes=function(){for(var e={groupName:"Hospital LOS",lanes:[]},t=0;t<this.losLaneMax*this.losIncrement;t+=this.losIncrement){var r=this.generateLosLaneFilterFunctionAndTitle(t,t+this.losIncrement);e.lanes.push({laneFunction:r.filterFunction,laneTitle:r.title})}var n=this.generateLosLaneFilterFunctionAndTitle(this.losLaneMax*this.losIncrement);return e.lanes.push({laneFunction:n.filterFunction,laneTitle:n.title}),e},e.prototype.generateLosLaneFilterFunctionAndTitle=function(e,t){void 0===t&&(t=-1);var i=864e5*e;if(-1===t)return{filterFunction:function(e){var t=(new Date).getTime()-i;return e.admitDate<=t},title:e.toString()+"+ days"};var o=864e5*t;return{filterFunction:function(e){var t=(new Date).getTime(),r=t-i,n=t-o;return e.admitDate<=r&&e.admitDate>n},title:e.toString()+" - "+t.toString()+" days"}},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),S=function(){function e(){this.providers=[],this.selectedProviders={},this.providersLoaded=new a.EventEmitter,this.toggleAll=new a.EventEmitter}return e.prototype.getFilterfunction=function(){var t={};for(var e in this.selectedProviders)e&&(t[e]=this.selectedProviders[e]);return function(e){return e.attendingProvider&&t[e.attendingProvider.firstName+e.attendingProvider.lastName]}},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),m=function(){function e(e){var t=this;this.providerService=e,this.dependency=new s.Subject,this.providerService.providersLoaded.subscribe(function(){t.dependency.next()})}return e.prototype.generateLanes=function(){var e,t,r={groupName:"Provider",lanes:[]};try{for(var n=j(this.providerService.providers),i=n.next();!i.done;i=n.next()){var o=i.value;r.lanes.push({laneFunction:this.generateProviderLaneFilterFunction(o),laneTitle:o.lastName+", "+o.firstName})}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}return r},e.prototype.generateProviderLaneFilterFunction=function(e){var t=e.firstName,r=e.lastName;return function(e){return e.attendingProvider.firstName===t&&e.attendingProvider.lastName===r}},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:S}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(S))},token:e,providedIn:"root"}),e}(),I=function(){function e(e){var t=this;this.locationSelectorService=e,this.dependency=new s.Subject,this.locationSelectorService.loadedLocations.subscribe(function(){t.dependency.next()})}return e.prototype.generateLanes=function(){var e,t,r={groupName:"Unit",lanes:[]};try{for(var n=j(this.locationSelectorService.units),i=n.next();!i.done;i=n.next()){var o=i.value;r.lanes.push({laneFunction:this.generateUnitLaneFilterFunction(o),laneTitle:o.displayName})}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}return r},e.prototype.generateUnitLaneFilterFunction=function(e){var t=e.displayName;return function(e){return e.unitId===t}},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:u}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(u))},token:e,providedIn:"root"}),e}(),F=function(){function e(e){var t=this;this.locationSelectorService=e,this.dependency=new s.Subject,this.locationSelectorService.loadedLocations.subscribe(function(){t.dependency.next()})}return e.prototype.generateLanes=function(){var e,t,r={groupName:"Facility",lanes:[]};try{for(var n=j(this.locationSelectorService.facilities),i=n.next();!i.done;i=n.next()){var o=i.value;r.lanes.push({laneFunction:this.generateFacilitiyLaneFilterFunction(o),laneTitle:o.displayName})}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}return r},e.prototype.generateFacilitiyLaneFilterFunction=function(e){var t=e.displayName;return function(e){return e.facilityId===t}},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:u}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(u))},token:e,providedIn:"root"}),e}(),b=function(){function e(e,t,r,n,i){var o=this;this.warningGroupService=e,this.hospitalLosGroupService=t,this.providerGroupService=r,this.facilityGroupService=n,this.unitGroupService=i,this.changeNumberOfGroupsToShow$=new s.BehaviorSubject(4),this.expandGroups$=new s.BehaviorSubject(!1),this.changeGroupsClosed=!1,this.groupsLoaded$=new s.Subject,this.groupOptions=[];var a=[e,t,r,n,i],c=this.compileDependencies(a);this.setDefaults(),s.combineLatest(c).subscribe(function(){return o.generateGroupByOptions(a)})}return e.prototype.compileDependencies=function(e){var t,r,n=[];try{for(var i=j(e),o=i.next();!o.done;o=i.next()){var a=o.value;a.dependency&&n.indexOf(a.dependency)<0&&n.push(a.dependency)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype.generateGroupByOptions=function(e){this.groupOptions=[];try{for(var t=j(e),r=t.next();!r.done;r=t.next()){var n=r.value;this.groupOptions.push(n.generateLanes())}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=t["return"])&&o.call(t)}finally{if(i)throw i.error}}var i,o;this.groupsLoaded$.next()},e.prototype.setDefaults=function(){this.activeGroup=this.warningGroupService.generateLanes(),this.stagedGroup=this.warningGroupService.generateLanes(),this.groupSubject$=new s.BehaviorSubject(this.warningGroupService.generateLanes().lanes)},e.prototype.clearGroupBy=function(){this.activeGroup=this.warningGroupService.generateLanes(),this.stagedGroup=this.warningGroupService.generateLanes(),this.groupSubject$.next(this.warningGroupService.generateLanes().lanes)},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:g},{type:y},{type:m},{type:F},{type:I}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(g),a.inject(y),a.inject(m),a.inject(F),a.inject(I))},token:e,providedIn:"root"}),e}(),w=function(){function e(e,t,r,n){this.locationSelectorService=e,this.filterRestService=t,this.sortService=r,this.groupService=n,this.locationsChanged=new s.BehaviorSubject({locations:new d,executeFilterQuery:!1}),this.activeFilters={},this.stagingFilters={},this.serverFilteredVisits=[],this.serverFilterName="query-filter",this.stagedServerFilterCriteria={},this._activeServerFilterCriteria={},this.filterSubject$=new s.BehaviorSubject(this.activeFilters)}return e.prototype.stageFilter=function(e,t){this.stagingFilters[e]=t},e.prototype.unstageFilter=function(e){delete this.stagingFilters[e]},e.prototype.getServerSideFilterFunction=function(){var a=this;return function(e){try{for(var t=j(a.serverFilteredVisits),r=t.next();!r.done;r=t.next()){if(r.value===e.vnm)return!0}}catch(o){n={error:o}}finally{try{r&&!r.done&&(i=t["return"])&&i.call(t)}finally{if(n)throw n.error}}return!1;var n,i}},e.prototype.stageServerFilterCriteria=function(e,t){this.stagedServerFilterCriteria[t]=e,this.stageFilter(this.serverFilterName,this.getServerSideFilterFunction())},e.prototype.removeStagedServerCriteria=function(e){delete this.stagedServerFilterCriteria[e],0===Object.keys(this.stagedServerFilterCriteria).length&&this.unstageFilter(this.serverFilterName)},e.prototype.getStagedServerSideFilterCriteria=function(){return this.stagedServerFilterCriteria},e.prototype.getActiveServerFilterCriteria=function(){var e=this;return function(){return e._activeServerFilterCriteria}},e.prototype.clearAllFilters=function(){this.activeFilters={},this.stagingFilters={},this.serverFilteredVisits=[],this.stagedServerFilterCriteria={},this._activeServerFilterCriteria={},this.filterSubject$.next({}),this.groupService.clearGroupBy(),this.sortService.clearSort()},e.prototype.activateFilters=function(){var t=this;for(var e in this.groupService.changeGroupsClosed=!0,this.sortService.activeSortFunction=this.sortService.getStagedSortFunction(),this.sortService.activeSortName=this.sortService.stagedSortName,this.activeFilters={},this.stagingFilters)this.stagingFilters.hasOwnProperty(e)&&(this.activeFilters[e]=this.stagingFilters[e]);for(var r in this._activeServerFilterCriteria={},this.stagedServerFilterCriteria)this.stagedServerFilterCriteria.hasOwnProperty(r)&&(this._activeServerFilterCriteria[r]=this.stagedServerFilterCriteria[r]);var n=this.activeFilters.hasOwnProperty(this.serverFilterName);if(this.locationSelectorService.isLocationSelectionTheSame()&&this.sortService.activeSortName!==v.RIScore&&this.groupService.stagedGroup.groupName===this.groupService.activeGroup.groupName)n?this.filterRestService.getFilteredVisits(this.getActiveServerFilterCriteria()).subscribe(function(e){t.serverFilteredVisits=e,t.filterSubject$.next(t.activeFilters)}):setTimeout(function(){return t.filterSubject$.next(t.activeFilters)},500);else{this.groupService.activeGroup=this.groupService.stagedGroup,this.groupService.groupSubject$.next(this.groupService.activeGroup.lanes);var i=this.locationSelectorService.getLocationsToFilter();this.locationsChanged.next({locations:i,executeFilterQuery:n})}},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:u},{type:p},{type:h},{type:b}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(u),a.inject(p),a.inject(h),a.inject(b))},token:e,providedIn:"root"}),e}(),D=function(){function e(){this.serviceLineDescriptionsEndpoint=null}return e.prototype.getServiceLineDescriptionsEndpoint=function(){return this.serviceLineDescriptionsEndpoint||console.warn("Service Line Descriptions endpoint is not set!"),this.serviceLineDescriptionsEndpoint},e.prototype.setServiceLineDescriptionsEndpoint=function(e){this.serviceLineDescriptionsEndpoint=e},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),x=function(){function e(e,t){this.http=e,this.serviceLineConfig=t}return e.prototype.getAllServiceLineDescriptions=function(){return this.http.get(this.serviceLineConfig.getServiceLineDescriptionsEndpoint())},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:l.HttpClient},{type:D}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(l.HttpClient),a.inject(D))},token:e,providedIn:"root"}),e}(),L=function(){function e(){this.toggleAll=new a.EventEmitter}return e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),P=function(){function e(){this.allProvidersEndpoint=null}return e.prototype.getAllProvidersEndpoint=function(){return this.allProvidersEndpoint||console.warn("All Providers Endpoint is not set!"),this.allProvidersEndpoint},e.prototype.setAllProvidersEndpoint=function(e){this.allProvidersEndpoint=e},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),N=function(){function e(e,t){this.http=e,this.providersConfigService=t}return e.prototype.getAllProviders=function(){return this.http.get(this.providersConfigService.getAllProvidersEndpoint())},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:l.HttpClient},{type:P}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(l.HttpClient),a.inject(P))},token:e,providedIn:"root"}),e}(),C=function(){function e(e){this.filterService=e,this.PEDIATRIC_GROUP="Pediatric",this.ADULT_GROUP="Adult",this.ALL_GROUP="All"}return e.prototype.unstageAgeGroups=function(){this.filterService.unstageFilter(this.PEDIATRIC_GROUP),this.filterService.unstageFilter(this.ADULT_GROUP),this.filterService.unstageFilter(this.ALL_GROUP)},e.prototype.allFilterFunction=function(e){return!0},e.prototype.adultFilterFunction=function(e){var t=new Date;t.setMilliseconds(e.patient.dob);var r=new Date;return r.setMilliseconds(Date.now()),18<=r.getFullYear()-t.getFullYear()},e.prototype.pediatricFilterFunction=function(e){var t=new Date;t.setMilliseconds(e.patient.dob);var r=new Date;return r.setMilliseconds(Date.now()),r.getFullYear()-t.getFullYear()<18},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:w}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(w))},token:e,providedIn:"root"}),e}(),E=function(){function e(){this.selectedWarnings=["warning_v","warning_h","warning_m","warning_none","warning_no_ri"],this.filterOptions=[{filterID:"warning_v",color:"#D51C19",filterFunction:function(e){return!(e.activeWarning&&"V"===e.activeWarning.category)}},{filterID:"warning_h",color:"#EE834C",filterFunction:function(e){return!(e.activeWarning&&"H"===e.activeWarning.category)}},{filterID:"warning_m",color:"#F6CC5D",filterFunction:function(e){return!(e.activeWarning&&"M"===e.activeWarning.category)}},{filterID:"warning_none",color:"#3185B8",filterFunction:function(e){return!(!e.activeWarning&&!e.discharged)}}]}return e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),k=function(){function e(){this.diagnosesEndpoint=null}return e.prototype.getDiagnosesEndpoint=function(){return this.diagnosesEndpoint||console.warn("Diagnoses endpoint is not set!"),this.diagnosesEndpoint},e.prototype.setDiagnosesEndpoint=function(e){this.diagnosesEndpoint=e},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),A=function(){function e(){this.selectedDiagnoses={},this.diagnoses=[],this.diagnosesLoaded$=new a.EventEmitter,this.toggleAll=new a.EventEmitter}return e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),G=function(){function e(e,t){this.http=e,this.diagnosisConfigService=t,this.pollInstanceDiagnoses$=s.timer(0,9e4)}return e.prototype.getAllDiagnoses=function(){return this.http.get(this.diagnosisConfigService.getDiagnosesEndpoint()+"/all")},e.prototype.getAllDiagnosisInterval=function(){var e=this;return this.pollInstanceDiagnoses$.pipe(o.switchMap(function(){return e.getAllDiagnoses()}))},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:l.HttpClient},{type:k}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(l.HttpClient),a.inject(k))},token:e,providedIn:"root"}),e}(),U=function(){function e(){}return e.prototype.getFilterFunction=function(e){var t=e;return function(e){return!(!e.activeWarning||!e.activeWarning.createdDate)&&(e.activeWarning.createdDate>=(new Date).getTime()-36e5*t||void 0)}},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),W=function T(){};e.FiltersModule=c,e.FilterService=w,e.ServiceLineConfigService=D,e.ServiceLineRestService=x,e.ServiceLineFilterService=L,e.FilterQueryRestService=p,e.FilterQueryConfigService=f,e.ProvidersConfigService=P,e.ProviderFilterService=S,e.ProvidersApiService=N,e.LocationSelectorService=u,e.AgeGroupsService=C,e.WarningsFilterService=E,e.DiagnosisConfigService=k,e.DiagnosisFilterService=A,e.DiagnosisRestService=G,e.WarningTimeFrameFilterService=U,e.Diagnosis=W,e.Locations=d,e.SortService=h,e.SortChoices=v,e.GroupService=b,e.ɵd=F,e.ɵb=y,e.ɵc=m,e.ɵe=I,e.ɵa=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-filters-library.umd.min.js.map